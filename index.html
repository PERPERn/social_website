<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>WWI Deck ‚Ä¢ Mobile Safe</title>
  <source src="./luvvoice.com-20260112-7woVTD.mp3" type="audio/mpeg">
  <!-- ‚úÖ Tailwind config MUST be set BEFORE loading the CDN script -->
  <script>
    window.tailwind = window.tailwind || {};
    window.tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ["ui-sans-serif","system-ui","Kanit","Noto Sans Thai","sans-serif"],
          },
        },
      },
    };
  </script>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    html, body { height: 100%; }
    body { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }

    .fade-enter { opacity: 0; transform: translateY(16px); filter: blur(8px); }
    .fade-enter-active { opacity: 1; transform: translateY(0); filter: blur(0); transition: all 420ms cubic-bezier(.22,1,.36,1); }
    .fade-exit { opacity: 1; transform: translateY(0); filter: blur(0); }
    .fade-exit-active { opacity: 0; transform: translateY(-12px); filter: blur(8px); transition: all 320ms cubic-bezier(.22,1,.36,1); }

    .noise {
      background-image:
        repeating-linear-gradient(0deg, rgba(255,255,255,0.10) 0px, rgba(255,255,255,0.10) 1px, transparent 1px, transparent 3px),
        repeating-linear-gradient(90deg, rgba(255,255,255,0.08) 0px, rgba(255,255,255,0.08) 1px, transparent 1px, transparent 4px);
      opacity: .08;
      mix-blend-mode: overlay;
      pointer-events: none;
    }

    .lc2{ display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
    .lc3{ display:-webkit-box; -webkit-line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; }

    .record .topbar, .record .bottombar, .record .sidepanel { display: none !important; }
    .record .mainpad { padding-bottom: 2.5rem !important; }
  
    /* --- Flashcards --- */
    .fc-persp { perspective: 1200px; }
    .fc-card { transform-style: preserve-3d; transition: transform 520ms cubic-bezier(.22,1,.36,1); }
    .fc-card.is-flipped { transform: rotateY(180deg); }
    .fc-face { backface-visibility: hidden; }
    .fc-back { transform: rotateY(180deg); }

  </style>
</head>
<body class="bg-[#0b0f1a] text-white font-sans overflow-x-hidden">
  <!-- Background -->
  <div id="bg" class="fixed inset-0 bg-gradient-to-br from-yellow-500/8 via-transparent to-cyan-500/8"></div>
  <div class="fixed -top-28 left-[-140px] h-[520px] w-[520px] rounded-full bg-yellow-400/10 blur-3xl pointer-events-none"></div>
  <div class="fixed top-10 right-[-170px] h-[440px] w-[440px] rounded-full bg-cyan-400/10 blur-3xl pointer-events-none"></div>
  <div class="fixed bottom-[-170px] left-[16%] h-[520px] w-[520px] rounded-full bg-violet-400/10 blur-3xl pointer-events-none"></div>
  <div class="fixed inset-0 noise"></div>

  <!-- Top bar -->
  <div class="topbar sticky top-0 z-30 border-b border-white/10 bg-[#0b0f1a]/55 backdrop-blur-2xl">
    <div class="mx-auto max-w-6xl px-4 sm:px-6 py-3 flex items-center justify-between gap-3">
      <div class="flex items-center gap-3">
        <div class="h-2.5 w-2.5 rounded-full bg-yellow-300 shadow-[0_0_24px_rgba(253,224,71,0.45)]"></div>
        <div class="leading-tight">
          <div class="text-sm font-semibold">WWI Deck ‚Ä¢ <span class="text-white/80">Mobile Safe</span></div>
          <div class="text-xs text-white/55">‚Üê/‚Üí Space ‚Ä¢ G overview ‚Ä¢ N notes ‚Ä¢ F fullscreen ‚Ä¢ R record</div>
        </div>
      </div>
      <div class="hidden sm:flex items-center gap-2">
        <span class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">1914‚Äì1918</span>
        <span id="slideCount" class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">Slide 1/1</span>
      </div>
    </div>
    <div class="mx-auto max-w-6xl px-4 sm:px-6 pb-3">
      <div class="relative h-1.5 w-full overflow-hidden rounded-full bg-white/10">
        <div id="progress" class="absolute left-0 top-0 h-full rounded-full bg-gradient-to-r from-amber-300 via-yellow-300 to-cyan-300 shadow-[0_0_40px_rgba(253,224,71,0.35)] transition-all duration-300" style="width:0%"></div>
      </div>
    </div>
  </div>

  <!-- Main -->
  <main class="mx-auto max-w-6xl px-4 sm:px-6 pt-6 pb-24 mainpad relative z-10">
    <!-- Header row -->
    <div class="mb-5 grid grid-cols-1 gap-4 lg:grid-cols-[1fr_360px]">
      <div class="flex items-center justify-between gap-3">
        <div class="flex flex-wrap items-center gap-2">
          <span class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">‚ú® Smooth deck</span>
          <span id="yearPill" class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">Year: 1914</span>
          <span id="recordPill" class="hidden inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">üé• Record mode</span>
        </div>

        <div class="flex items-center gap-2">
          <button id="btnOverview" title="Overview (G)" class="rounded-2xl border border-white/10 bg-white/5 p-3 text-white/90 shadow-[0_20px_60px_rgba(0,0,0,0.35)] backdrop-blur-xl transition hover:bg-white/10 active:translate-y-[1px]">‚ò∑</button>
          <button id="btnNotes" title="Notes (N)" class="rounded-2xl border border-white/10 bg-white/5 p-3 text-white/90 shadow-[0_20px_60px_rgba(0,0,0,0.35)] backdrop-blur-xl transition hover:bg-white/10 active:translate-y-[1px]">üìù</button>
          <button id="btnRecord" title="Record (R)" class="rounded-2xl border border-white/10 bg-white/5 p-3 text-white/90 shadow-[0_20px_60px_rgba(0,0,0,0.35)] backdrop-blur-xl transition hover:bg-white/10 active:translate-y-[1px]">üé•</button>
          <button id="btnFs" title="Fullscreen (F)" class="rounded-2xl border border-white/10 bg-white/5 p-3 text-white/90 shadow-[0_20px_60px_rgba(0,0,0,0.35)] backdrop-blur-xl transition hover:bg-white/10 active:translate-y-[1px]">‚õ∂</button>
          <button id="btnSpeak" title="Read slide (V)" class="rounded-2xl border border-white/10 bg-white/5 p-3 text-white/90 shadow-[0_20px_60px_rgba(0,0,0,0.35)] backdrop-blur-xl transition hover:bg-white/10 active:translate-y-[1px]">üîä</button>
          <button id="btnAudio" title="Play pre-made audio (A)" class="rounded-2xl border border-white/10 bg-white/5 p-3 text-white/90 shadow-[0_20px_60px_rgba(0,0,0,0.35)] backdrop-blur-xl transition hover:bg-white/10 active:translate-y-[1px]">‚ñ∂Ô∏è</button>

          <button id="btnFlash" title="Flashcards (C)" class="rounded-2xl border border-white/10 bg-white/5 p-3 text-white/90 shadow-[0_20px_60px_rgba(0,0,0,0.35)] backdrop-blur-xl transition hover:bg-white/10 active:translate-y-[1px]">üÉè</button>
          <button id="btnQuiz" title="Quiz (Q)" class="rounded-2xl border border-white/10 bg-white/5 p-3 text-white/90 shadow-[0_20px_60px_rgba(0,0,0,0.35)] backdrop-blur-xl transition hover:bg-white/10 active:translate-y-[1px]">üß†</button>

        </div>
      </div>

      <!-- timeline -->
      <aside class="sidepanel lg:justify-self-end">
        <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
          <div class="mb-2 flex items-center justify-between">
            <div class="text-xs font-semibold text-white/80">Timeline</div>
            <span class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">
              Active: <span id="activeYear">1914</span>
            </span>
          </div>
          <div class="relative mt-2">
            <div class="h-2 w-full rounded-full bg-white/10"></div>
            <div id="timeFill" class="absolute top-0 h-2 rounded-full bg-gradient-to-r from-amber-300 via-yellow-300 to-cyan-300 shadow-[0_0_30px_rgba(253,224,71,0.28)] transition-all duration-500" style="width:20%"></div>
          </div>
          <div class="mt-3 grid grid-cols-5 gap-2 text-center">
            <div id="y1914" class="rounded-xl border border-yellow-300/40 bg-yellow-300/10 text-yellow-100 px-2 py-2 text-xs">1914</div>
            <div id="y1915" class="rounded-xl border border-white/10 bg-white/5 text-white/60 px-2 py-2 text-xs">1915</div>
            <div id="y1916" class="rounded-xl border border-white/10 bg-white/5 text-white/60 px-2 py-2 text-xs">1916</div>
            <div id="y1917" class="rounded-xl border border-white/10 bg-white/5 text-white/60 px-2 py-2 text-xs">1917</div>
            <div id="y1918" class="rounded-xl border border-white/10 bg-white/5 text-white/60 px-2 py-2 text-xs">1918</div>
          </div>
        </div>
      </aside>
    </div>

    <!-- Deck area -->
    <section id="deckWrap" class="space-y-6">
      <div id="overview" class="hidden">
        <div class="mb-4 flex items-center justify-between gap-3">
          <div class="text-sm font-semibold text-white/85">Overview (‡∏Å‡∏î G ‡∏´‡∏£‡∏∑‡∏≠ Esc ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î)</div>
          <span id="ovCount" class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">Slide 1/1</span>
        </div>
        <div id="ovGrid" class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"></div>
      </div>

      <div id="slide" class="fade-enter"></div>

      <div id="notesBlock" class="hidden rounded-2xl border border-dashed border-white/15 bg-black/20 p-4 text-sm text-white/70">
        <b class="text-yellow-200">Presenter note:</b> <span id="notesText"></span>
      </div>
    </section>
  
    <!-- Study Zone: Flashcards + Quiz -->
    <section id="studyWrap" class="hidden mt-8 space-y-6">
      <div class="rounded-3xl border border-white/15 bg-white/5 p-5 sm:p-6 backdrop-blur-xl shadow-[0_30px_100px_rgba(0,0,0,0.45)]">
        <div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 grid place-items-center rounded-2xl border border-white/10 bg-white/5 text-xl">üéì</div>
            <div>
              <div class="text-sm font-semibold text-white/90">Study Zone</div>
              <div class="text-xs text-white/60">Flashcards + Quiz (‡πÄ‡∏à‡∏ô‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå)</div>
            </div>
          </div>
          <div class="flex flex-wrap items-center gap-2">
            <button id="tabFlash" class="rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-sm font-semibold text-white transition hover:bg-white/15 active:translate-y-[1px]">üÉè Flashcards</button>
            <button id="tabQuiz" class="rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm font-semibold text-white/90 transition hover:bg-white/10 active:translate-y-[1px]">üß† Quiz 4 ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</button>
            <button id="btnCloseStudy" class="rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm font-semibold text-white/90 transition hover:bg-white/10 active:translate-y-[1px]">‚úï ‡∏õ‡∏¥‡∏î</button>
          </div>
        </div>
      </div>

      <!-- Flashcards Panel -->
      <div id="flashPanel" class="rounded-3xl border border-white/15 bg-black/20 p-5 sm:p-6 backdrop-blur-xl shadow-[0_30px_100px_rgba(0,0,0,0.35)]">
        <div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
          <div>
            <div class="text-sm font-semibold text-white/90">üÉè Flashcards</div>
            <div class="text-xs text-white/60">‡∏Å‡∏î‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏û‡∏•‡∏¥‡∏Å ‚Ä¢ ‡πÉ‡∏ä‡πâ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡πà‡∏°/‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</div>
          </div>
          <div class="flex flex-wrap items-center gap-2">
            <span id="fcCount" class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">Card 1/1</span>
            <button id="btnFcPrev" class="rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm font-semibold text-white/90 transition hover:bg-white/10 active:translate-y-[1px]">‚Üê ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</button>
            <button id="btnFcFlip" class="rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-sm font-semibold text-white transition hover:bg-white/15 active:translate-y-[1px]">‡∏û‡∏•‡∏¥‡∏Å</button>
            <button id="btnFcNext" class="rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm font-semibold text-white/90 transition hover:bg-white/10 active:translate-y-[1px]">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚Üí</button>
            <button id="btnFcShuffle" class="rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm font-semibold text-white/90 transition hover:bg-white/10 active:translate-y-[1px]">üîÄ ‡∏™‡∏∏‡πà‡∏°</button>
          </div>
        </div>

        <div class="mt-5 grid grid-cols-1 gap-4 lg:grid-cols-[1fr_360px]">
          <div class="fc-persp">
            <button id="fcCard" class="fc-card w-full text-left">
              <div class="fc-face rounded-[28px] border border-white/10 bg-gradient-to-br from-white/10 to-white/5 p-7 sm:p-9 shadow-[0_35px_120px_rgba(0,0,0,0.55)]">
                <div class="mb-3 flex items-center justify-between gap-3">
                  <span id="fcTag" class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">Flashcard</span>
                  <span class="text-xs text-white/55">‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</span>
                </div>
                <div id="fcFront" class="text-balance text-2xl font-extrabold tracking-tight text-white/95 sm:text-3xl"></div>
                <div id="fcHint" class="mt-3 text-sm leading-relaxed text-white/65"></div>
              </div>

              <div class="fc-face fc-back rounded-[28px] border border-white/10 bg-gradient-to-br from-black/40 to-white/5 p-7 sm:p-9 shadow-[0_35px_120px_rgba(0,0,0,0.55)]">
                <div class="mb-3 flex items-center justify-between gap-3">
                  <span class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</span>
                  <span class="text-xs text-white/55">‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö</span>
                </div>
                <div id="fcBack" class="text-[15px] leading-7 text-white/85 sm:text-[16px]"></div>
                <div id="fcSource" class="mt-4 text-xs text-white/55"></div>
              </div>
            </button>
          </div>

          <div class="space-y-4">
            <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
              <div class="text-sm font-semibold text-white/90">‡πÇ‡∏´‡∏°‡∏î‡∏ù‡∏∂‡∏Å</div>
              <div class="mt-2 text-sm leading-relaxed text-white/70">
                ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡∏≠‡πà‡∏≤‡∏ô‡∏™‡πÑ‡∏•‡∏î‡πå ‚Üí ‡πÄ‡∏õ‡∏¥‡∏î Flashcard ‚Üí ‡∏û‡∏π‡∏î‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÄ‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏û‡∏•‡∏¥‡∏Å ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ù‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•
              </div>
            </div>
            <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
              <div class="text-sm font-semibold text-white/90">‡∏Ñ‡∏µ‡∏¢‡πå‡∏•‡∏±‡∏î</div>
              <div class="mt-2 text-sm text-white/70">
                <span class="font-semibold text-white/90">C</span> ‡πÄ‡∏õ‡∏¥‡∏î Flashcards ‚Ä¢
                <span class="font-semibold text-white/90">Q</span> ‡πÄ‡∏õ‡∏¥‡∏î Quiz ‚Ä¢
                <span class="font-semibold text-white/90">Esc</span> ‡∏õ‡∏¥‡∏î Study Zone
              </div>
            </div>
          </div>
        </div>

        <div class="mt-6">
          <div class="mb-2 text-xs font-semibold text-white/70">All cards</div>
          <div id="fcGrid" class="grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3"></div>
        </div>
      </div>

      <!-- Quiz Panel -->
      <div id="quizPanel" class="hidden rounded-3xl border border-white/15 bg-black/20 p-5 sm:p-6 backdrop-blur-xl shadow-[0_30px_100px_rgba(0,0,0,0.35)]">
        <div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
          <div>
            <div class="text-sm font-semibold text-white/90">üß† Quiz 4 ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å (‡∏Ñ‡∏¥‡∏î‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå)</div>
            <div class="text-xs text-white/60">‡∏Å‡∏î ‚Äú‡πÄ‡∏à‡∏ô‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‚Äù ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‚Ä¢ ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î ‚Äú‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‚Äù</div>
          </div>
          <div class="flex flex-wrap items-center gap-2">
            <label class="inline-flex items-center gap-2 rounded-2xl border border-white/10 bg-white/5 px-3 py-2 text-xs text-white/80">
              ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠
              <select id="quizN" class="ml-2 rounded-xl border border-white/10 bg-black/40 px-2 py-1 text-xs text-white/90">
                <option value="5">5</option>
                <option value="8">8</option>
                <option value="10">10</option>
              </select>
            </label>
            <button id="btnQuizGen" class="rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-sm font-semibold text-white transition hover:bg-white/15 active:translate-y-[1px]">üé≤ ‡πÄ‡∏à‡∏ô‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö</button>
            <button id="btnQuizGrade" class="rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm font-semibold text-white/90 transition hover:bg-white/10 active:translate-y-[1px]">‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
          </div>
        </div>

        <div id="quizMeta" class="mt-4 hidden rounded-2xl border border-white/10 bg-white/5 p-4 text-sm text-white/80"></div>
        <div id="quizList" class="mt-5 space-y-4"></div>
      </div>
    </section>

</main>
  <!-- Audio player (pre-made .wav per slide) -->
  <audio id="slideAudio" class="hidden" preload="none"></audio>


  <!-- Bottom bar -->
  <div class="bottombar fixed inset-x-0 bottom-0 z-40 border-t border-white/10 bg-[#0b0f1a]/55 backdrop-blur-2xl">
    <div class="mx-auto max-w-6xl px-4 sm:px-6 py-3 flex items-center justify-between gap-3">
      <div class="flex items-center gap-2">
        <button id="btnPrev" class="inline-flex items-center gap-2 rounded-2xl border border-white/10 bg-gradient-to-b from-white/14 to-white/5 px-4 py-3 text-sm font-semibold text-white shadow-[0_30px_90px_rgba(0,0,0,0.45)] backdrop-blur-xl transition hover:from-white/18 hover:to-white/8 active:translate-y-[1px]">
          ‚Üê ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤
        </button>
        <button id="btnNext" class="inline-flex items-center gap-2 rounded-2xl border border-white/10 bg-gradient-to-b from-white/14 to-white/5 px-4 py-3 text-sm font-semibold text-white shadow-[0_30px_90px_rgba(0,0,0,0.45)] backdrop-blur-xl transition hover:from-white/18 hover:to-white/8 active:translate-y-[1px]">
          ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚Üí
        </button>
      </div>
      <span id="bottomCount" class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">
        Slide 1/1
      </span>
    </div>
  </div>

  <script>
    console.log("JS RUNNING ‚úÖ");

    /* ‚úÖ make clamp GLOBAL (was causing clamp is not defined) */
    function clamp(n, min, max) {
      return Math.max(min, Math.min(max, n));
    }

    /* --------------------- data --------------------- */
    const slides = [ /* <-- ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πâ data ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì */ 
      {
        type: "chapter",
        year: 1914,
        kicker: "Chapter 1 ‚Ä¢ ‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô",
        title: '‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡πÇ‡∏•‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏´‡∏ô‡∏∂‡πà‡∏á <span class="bg-gradient-to-r from-amber-200 to-cyan-200 bg-clip-text text-transparent">(1914‚Äì1918)</span>',
        subtitle: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡πÇ‡∏•‡∏Å: ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏ä‡∏¥‡∏á‡∏£‡∏∞‡∏ö‡∏ö ‚Üí ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à ‚Üí ‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏™‡∏°‡∏±‡∏¢‡πÉ‡∏´‡∏°‡πà ‚Üí ‡∏°‡∏£‡∏î‡∏Å‡∏ñ‡∏∂‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô",
        notes: "‡πÄ‡∏Å‡∏£‡∏¥‡πà‡∏ô 20‚Äì30 ‡∏ß‡∏¥: ‡πÄ‡∏ô‡πâ‡∏ô‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏°‡∏≠‡∏á '‡∏£‡∏∞‡∏ö‡∏ö' ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÇ‡∏ó‡∏©‡∏Ñ‡∏ô‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏•‡∏¥‡∏õ"
      },
      {
        type: "content",
        year: 1914,
        kicker: "Slide 2 ‚Ä¢ ‡πÇ‡∏•‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°",
        title: "‡∏¢‡∏∏‡πÇ‡∏£‡∏õ‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏µ 1914: ‡∏ñ‡∏±‡∏á‡∏î‡∏¥‡∏ô‡∏õ‡∏∑‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏¢‡πÑ‡∏ü",
        subtitle: "‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏à‡∏£‡∏¥‡∏ç ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏≠‡∏≥‡∏ô‡∏≤‡∏à + ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ß + ‡∏Å‡∏≤‡∏£‡∏™‡∏∞‡∏™‡∏°‡∏Å‡∏≥‡∏•‡∏±‡∏á",
        bullets: [
          "‡∏°‡∏´‡∏≤‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡∏¢‡∏∏‡πÇ‡∏£‡∏õ‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á <b class='text-white'>‡∏≠‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏•</b> ‡πÅ‡∏•‡∏∞ <b class='text-white'>‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå‡∏®‡∏£‡∏µ</b>",
          "‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏¥‡∏ï‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡πÑ‡∏î‡πâ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô ‚Üí <span class='text-white/80'>‚Äú‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏£‡∏ö‚Äù ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥</span>",
          "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏î‡∏£‡∏∞‡πÅ‡∏ß‡∏á: ‚Äú‡∏ñ‡πâ‡∏≤‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‚Ä¶ ‡∏≠‡∏µ‡∏Å‡∏ù‡πà‡∏≤‡∏¢‡∏à‡∏∞‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏Å‡πà‡∏≠‡∏ô‚Äù"
        ],
        side: [
          { h: "‡∏†‡∏≤‡∏û‡∏à‡∏≥", t: "‡πÇ‡∏•‡∏Å‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ñ‡∏±‡∏á‡∏î‡∏¥‡∏ô‡∏õ‡∏∑‡∏ô‚Äî‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏Ñ‡πà‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏¢‡πÑ‡∏ü‡πÄ‡∏•‡πá‡∏Å ‡πÜ" },
          { h: "‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡πÉ‡∏ô‡∏Ñ‡∏•‡∏¥‡∏õ", t: "‡πÄ‡∏ô‡πâ‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ß + ‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Å‡∏•‡∏µ‡∏¢‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•" }
        ],
        notes: "‡∏¢‡πâ‡∏≥‡∏ß‡πà‡∏≤ '‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡πâ‡∏≤‡∏Ñ‡∏•‡∏±‡πà‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß' ‡πÅ‡∏ï‡πà‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏î‡∏±‡∏ô‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏ù‡πà‡∏≤‡∏¢‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÄ‡∏£‡πá‡∏ß"
      },
      {
        type: "content",
        year: 1914,
        kicker: "Slide 3 ‚Ä¢ ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß",
        title: "‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß: <span class='text-yellow-200'>MAIN</span>",
        subtitle: "‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏™‡∏∞‡∏™‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏∂‡∏á‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏à‡∏ô‡∏ó‡∏≥‡πÉ‡∏´‡πâ ‚Äú‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å ‡πÜ‚Äù ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏≤‡∏¢‡∏ô‡∏∞",
        bullets: [
          "<b class='text-white'>Militarism</b>: ‡πÅ‡∏Ç‡πà‡∏á‡∏™‡∏∞‡∏™‡∏°‡∏Å‡∏≠‡∏á‡∏ó‡∏±‡∏û/‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò ‚Üí ‡∏Å‡∏î‡∏î‡∏±‡∏ô‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏ó‡∏ô‡πÄ‡∏à‡∏£‡∏à‡∏≤",
          "<b class='text-white'>Alliances</b>: ‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£‡πÅ‡∏Ç‡πá‡∏á‡∏Å‡∏£‡πâ‡∏≤‡∏ß ‚Üí ‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏à‡∏∏‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏•‡∏∏‡∏Å‡∏•‡∏≤‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏ó‡∏ß‡∏µ‡∏õ",
          "<b class='text-white'>Imperialism</b>: ‡πÅ‡∏Ç‡πà‡∏á‡∏≠‡∏≤‡∏ì‡∏≤‡∏ô‡∏¥‡∏Ñ‡∏°/‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£ ‚Üí ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á‡∏™‡∏∞‡∏™‡∏°",
          "<b class='text-white'>Nationalism</b>: ‡∏ä‡∏≤‡∏ï‡∏¥‡∏ô‡∏¥‡∏¢‡∏°‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ö‡∏≠‡∏•‡∏Ç‡πà‡∏≤‡∏ô ‚Üí ‡∏õ‡∏∞‡∏ó‡∏∞‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏£‡∏£‡∏î‡∏¥‡πÉ‡∏´‡∏ç‡πà"
        ],
        side: [{ h: "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏à‡∏≥", t: "MAIN = ‡πÅ‡∏£‡∏á‡∏ï‡∏∂‡∏á‡∏™‡∏∞‡∏™‡∏° ‚Ä¢ Trigger = ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏¢‡πÑ‡∏ü" }],
        notes: "‡∏û‡∏π‡∏î‡∏ä‡∏±‡∏î ‡πÜ ‡∏ß‡πà‡∏≤ MAIN ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏° ‡πÅ‡∏ï‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ '‡∏Ñ‡∏∏‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå' ‡∏¢‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏¥‡∏î‡∏ß‡∏¥‡∏Å‡∏§‡∏ï"
      },
      {
        type: "content",
        year: 1914,
        kicker: "Slide 4 ‚Ä¢ ‡∏ä‡∏ô‡∏ß‡∏ô‡πÄ‡∏´‡∏ï‡∏∏",
        title: "Sarajevo 28 ‡∏°‡∏¥.‡∏¢. 1914: ‡∏Å‡∏£‡∏∞‡∏™‡∏∏‡∏ô‡∏ô‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏™‡∏±‡πà‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏¢‡∏∏‡πÇ‡∏£‡∏õ",
        subtitle: "‡∏Å‡∏≤‡∏£‡∏•‡∏≠‡∏ö‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£ Archduke Franz Ferdinand ‚Üí ‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏Å‡∏≤‡∏£‡∏ó‡∏π‡∏ï ‚Üí ‡πÇ‡∏î‡∏°‡∏¥‡πÇ‡∏ô‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£",
        bullets: [
          "‡∏•‡∏≠‡∏ö‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£‡∏£‡∏±‡∏ä‡∏ó‡∏≤‡∏¢‡∏≤‡∏ó‡∏≠‡∏≠‡∏™‡πÄ‡∏ï‡∏£‡∏µ‡∏¢-‡∏Æ‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏µ ‚Üí ‡∏≠‡∏≠‡∏™‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‚Äú‡∏•‡∏á‡πÇ‡∏ó‡∏©‚Äù ‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÄ‡∏ö‡∏µ‡∏¢",
          "‡∏´‡πà‡∏ß‡∏á‡πÇ‡∏ã‡πà‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£‡πÄ‡∏£‡πà‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö: ‡∏£‡∏±‡∏™‡πÄ‡∏ã‡∏µ‡∏¢‡∏´‡∏ô‡∏∏‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÄ‡∏ö‡∏µ‡∏¢ ‚Üí ‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏ô‡∏µ‡∏´‡∏ô‡∏∏‡∏ô‡∏≠‡∏≠‡∏™‡πÄ‡∏ï‡∏£‡∏µ‡∏¢",
          "‡∏ö‡∏∏‡∏Å‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏ö‡∏•‡πÄ‡∏¢‡∏µ‡∏¢‡∏° ‚Üí ‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° ‚Üí ‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏•‡∏∏‡∏Å‡∏•‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß"
        ],
        side: [{ h: "Key idea", t: "‡∏ä‡∏ô‡∏ß‡∏ô ‚â† ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÅ‡∏ï‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î" }],
        notes: "‡∏¢‡πâ‡∏≥‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ '‡∏ä‡∏ô‡∏ß‡∏ô' ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏∂‡∏á‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏™‡∏∞‡∏™‡∏°‡∏°‡∏≤‡∏ô‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß)"
      },
      {
        type: "chapter",
        year: 1915,
        kicker: "Chapter 2 ‚Ä¢ ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏ö",
        title: "‡∏à‡∏≤‡∏Å‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á‡∏™‡∏±‡πâ‡∏ô ‡πÜ ‡∏™‡∏π‡πà‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏¢‡∏∑‡∏î‡πÄ‡∏¢‡∏∑‡πâ‡∏≠",
        subtitle: "‡∏™‡∏ô‡∏≤‡∏°‡πÄ‡∏û‡∏•‡∏≤‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡∏ß‡∏£‡∏ö ‚Äú‡∏ï‡∏£‡∏∂‡∏á‚Äù ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏∂‡∏Å‡∏´‡∏£‡∏≠ (war of attrition)",
        notes: "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏Ñ‡∏•‡∏¥‡∏õ‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡∏∂‡πâ‡∏ô: ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏π‡∏ï/‡∏£‡∏∞‡∏ö‡∏ö ‚Üí ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô‡∏™‡∏ô‡∏≤‡∏°‡∏£‡∏ö"
      },
      {
        type: "content",
        year: 1916,
        kicker: "Slide 6 ‚Ä¢ ‡∏™‡∏ô‡∏≤‡∏°‡πÄ‡∏û‡∏•‡∏≤‡∏∞",
        title: "Trench Warfare: ‡∏¢‡∏∂‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏ô‡πâ‡∏≠‡∏¢ ‡πÅ‡∏ï‡πà‡∏ï‡∏≤‡∏¢‡∏°‡∏´‡∏≤‡∏®‡∏≤‡∏•",
        subtitle: "‡πÅ‡∏ô‡∏ß‡∏£‡∏ö‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å ‚Äú‡∏ï‡∏£‡∏∂‡∏á‚Äù ‡∏¢‡∏∑‡∏î‡πÄ‡∏¢‡∏∑‡πâ‡∏≠ ‚Üí ‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏™‡∏∂‡∏Å‡∏´‡∏£‡∏≠",
        bullets: [
          "‡∏™‡∏ô‡∏≤‡∏°‡πÄ‡∏û‡∏•‡∏≤‡∏∞‡∏¢‡∏≤‡∏ß‡∏´‡∏•‡∏≤‡∏¢‡∏£‡πâ‡∏≠‡∏¢‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏°‡∏ï‡∏£ ‚Üí ‡∏™‡∏†‡∏≤‡∏û‡πÇ‡∏´‡∏î: ‡πÇ‡∏Ñ‡∏•‡∏ô ‡∏´‡∏ô‡∏π ‡πÇ‡∏£‡∏Ñ‡∏†‡∏±‡∏¢",
          "‡∏Å‡∏≤‡∏£‡∏ö‡∏∏‡∏Å‡∏ú‡πà‡∏≤‡∏ô‡∏•‡∏ß‡∏î‡∏´‡∏ô‡∏≤‡∏°/‡∏õ‡∏∑‡∏ô‡∏Å‡∏• ‚Üí ‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏ô‡∏±‡∏Å ‡πÅ‡∏ï‡πà‡πÅ‡∏ó‡∏ö‡πÑ‡∏°‡πà‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤",
          "‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô ‚Äú‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏≠‡∏µ‡∏Å‡∏ù‡πà‡∏≤‡∏¢‡∏´‡∏°‡∏î‡πÅ‡∏£‡∏á/‡∏´‡∏°‡∏î‡∏Ñ‡∏ô‚Äù ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ä‡∏±‡∏¢‡∏ä‡∏ô‡∏∞‡∏â‡∏±‡∏ö‡∏û‡∏•‡∏±‡∏ô"
        ],
        side: [{ h: "‡∏ó‡∏≥‡πÑ‡∏°‡∏°‡∏±‡∏ô‡∏ï‡∏±‡∏ô?", t: "‡∏õ‡∏∑‡∏ô‡∏Å‡∏• + ‡∏õ‡∏∑‡∏ô‡πÉ‡∏´‡∏ç‡πà ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏•‡∏≤‡∏á‡∏™‡∏ô‡∏≤‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ó‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ" }],
        notes: "‡∏ñ‡πâ‡∏≤‡∏à‡∏∞‡∏¢‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏¢‡∏∏‡∏ó‡∏ò‡∏Å‡∏≤‡∏£ (Somme/Verdun) ‡πÉ‡∏´‡πâ‡∏û‡∏π‡∏î‡∏™‡∏±‡πâ‡∏ô ‡πÜ ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÄ‡∏ô‡πâ‡∏ô‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á '‡∏™‡∏∂‡∏Å‡∏´‡∏£‡∏≠'"
      },
      {
        type: "content",
        year: 1915,
        kicker: "Slide 7 ‚Ä¢ ‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡πÉ‡∏´‡∏°‡πà",
        title: "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÉ‡∏´‡∏°‡πà: ‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏™‡∏°‡∏±‡∏¢‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡πÇ‡∏´‡∏î‡∏Ç‡∏∂‡πâ‡∏ô",
        subtitle: "‡∏õ‡∏∑‡∏ô‡∏Å‡∏• ‚Ä¢ ‡∏õ‡∏∑‡∏ô‡πÉ‡∏´‡∏ç‡πà ‚Ä¢ ‡∏Å‡πä‡∏≤‡∏ã‡∏û‡∏¥‡∏© ‚Ä¢ ‡∏£‡∏ñ‡∏ñ‡∏±‡∏á ‚Ä¢ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏¥‡∏ô ‚Üí ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏Å‡∏°",
        bullets: [
          "<b class='text-white'>‡∏õ‡∏∑‡∏ô‡∏Å‡∏• & ‡∏õ‡∏∑‡∏ô‡πÉ‡∏´‡∏ç‡πà</b>: ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ö‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£‡∏´‡∏°‡∏π‡πà",
          "<b class='text-white'>‡∏Å‡πä‡∏≤‡∏ã‡∏û‡∏¥‡∏©</b>: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏∏‡∏Å‡∏Ç‡πå‡∏ó‡∏£‡∏°‡∏≤‡∏ô ‡∏ö‡∏≤‡∏î‡πÄ‡∏à‡πá‡∏ö‡∏ñ‡∏≤‡∏ß‡∏£ ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏î‡∏Å‡∏•‡∏±‡∏ß‡∏ó‡∏≤‡∏á‡∏à‡∏¥‡∏ï‡πÉ‡∏à",
          "<b class='text-white'>‡∏£‡∏ñ‡∏ñ‡∏±‡∏á/‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏¥‡∏ô</b>: ‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏¢‡∏∏‡∏Ñ‡πÉ‡∏´‡∏°‡πà (‡∏ä‡πà‡∏ß‡∏á‡πÅ‡∏£‡∏Å‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î)"
        ],
        side: [{ h: "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏à‡∏≥", t: "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤ ‚Äò‡∏à‡∏£‡∏¥‡∏¢‡∏ò‡∏£‡∏£‡∏°‚Äô ‚Üí ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏¢‡∏¥‡πà‡∏á‡∏ô‡πà‡∏≤‡∏Å‡∏•‡∏±‡∏ß" }],
        notes: "‡∏¢‡∏Å‡∏†‡∏≤‡∏û‡∏à‡∏≥: ‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏≤‡∏Å‡∏Å‡∏±‡∏ô‡πÅ‡∏Å‡πä‡∏™/‡∏£‡∏ñ‡∏ñ‡∏±‡∏á‡∏¢‡∏∏‡∏Ñ‡πÅ‡∏£‡∏Å"
      },
      {
        type: "chapter",
        year: 1917,
        kicker: "Chapter 3 ‚Ä¢ ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡πÅ‡∏•‡∏∞‡∏à‡∏∏‡∏î‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô",
        title: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÇ‡∏•‡∏Å",
        subtitle: "‡∏ú‡∏π‡πâ‡∏Ñ‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡πÅ‡∏Ñ‡πà‡πÉ‡∏ô‡∏™‡∏ô‡∏≤‡∏°‡∏£‡∏ö ‡πÅ‡∏ï‡πà‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à ‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á ‡πÅ‡∏•‡∏∞‡∏à‡∏¥‡∏ï‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏°",
        notes: "‡∏Ñ‡∏∏‡∏°‡πÇ‡∏ó‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏™‡∏≤‡∏£‡∏Ñ‡∏î‡∏µ: ‚Äò‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏à‡∏ö‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î‡∏´‡∏¢‡∏∏‡∏î‚Äô"
      },
      {
        type: "content",
        year: 1917,
        kicker: "Slide 9 ‚Ä¢ ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏™‡∏±‡∏á‡∏Ñ‡∏°",
        title: "‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏à‡∏ö‡πÉ‡∏ô‡∏™‡∏ô‡∏≤‡∏°‡∏£‡∏ö",
        subtitle: "‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢ ‚Ä¢ ‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á‡πÉ‡∏ô‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô ‚Ä¢ ‡∏ö‡∏≤‡∏î‡πÅ‡∏ú‡∏•‡∏ó‡∏≤‡∏á‡πÉ‡∏à (PTSD) ‚Ä¢ ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡πÑ‡∏ß‡πâ‡∏ß‡∏≤‡∏á‡πÉ‡∏à‡∏£‡∏±‡∏ê",
        bullets: [
          "‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö ‚Äú‡∏´‡∏•‡∏≤‡∏¢‡∏™‡∏¥‡∏ö‡∏•‡πâ‡∏≤‡∏ô‚Äù (‡∏ó‡∏´‡∏≤‡∏£+‡∏û‡∏•‡πÄ‡∏£‡∏∑‡∏≠‡∏ô) ‡πÅ‡∏•‡∏∞‡∏ú‡∏π‡πâ‡∏ö‡∏≤‡∏î‡πÄ‡∏à‡πá‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏´‡∏≤‡∏®‡∏≤‡∏•",
          "‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô/‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå ‚Üí ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏ó‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ñ‡∏≤‡∏ß‡∏£",
          "Trauma ‡∏Ç‡∏≠‡∏á‡∏ó‡∏´‡∏≤‡∏£‡∏ú‡πà‡∏≤‡∏ô‡∏®‡∏∂‡∏Å (shell shock) ‚Üí ‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î PTSD ‡πÉ‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô"
        ],
        side: [{ h: "‡∏°‡∏¥‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡∏Ñ‡∏ô‡∏°‡∏≠‡∏á‡∏Ç‡πâ‡∏≤‡∏°", t: "‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ú‡∏•‡πÉ‡∏ô‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Å‡∏±‡∏ö‡∏£‡∏±‡∏ê" }],
        notes: "‡∏ñ‡πâ‡∏≤‡∏û‡∏π‡∏î‡πÉ‡∏´‡πâ‡∏Ñ‡∏°: ‚Äò‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏£‡∏∏‡πà‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÇ‡∏ï‡∏°‡∏≤‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏à‚Äô"
      },
      {
        type: "content",
        year: 1918,
        kicker: "Slide 10 ‚Ä¢ ‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°",
        title: "‡∏™‡∏±‡∏ô‡∏ï‡∏¥‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏¢‡∏∏‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏° = ‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÑ‡∏ü‡πÉ‡∏´‡∏°‡πà",
        subtitle: "‡∏Å‡∏≤‡∏£‡∏•‡πà‡∏°‡∏™‡∏•‡∏≤‡∏¢‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏£‡∏£‡∏î‡∏¥ + ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏•‡∏á‡πÇ‡∏ó‡∏© ‚Üí ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏±‡∏ö‡πÅ‡∏Ñ‡πâ‡∏ô ‚Üí ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏î‡πÇ‡∏ï‡πà‡∏á ‚Üí ‡∏õ‡∏π‡∏ó‡∏≤‡∏á‡∏™‡∏π‡πà WWII",
        bullets: [
          "‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏£‡∏£‡∏î‡∏¥‡πÉ‡∏´‡∏ç‡πà‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏´‡πà‡∏á‡∏•‡πà‡∏°‡∏™‡∏•‡∏≤‡∏¢ ‚Üí ‡πÄ‡∏Å‡∏¥‡∏î‡∏£‡∏±‡∏ê‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡∏∞‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏û‡∏£‡∏°‡πÅ‡∏î‡∏ô",
          "‡∏™‡∏ô‡∏ò‡∏¥‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡πÅ‡∏ß‡∏£‡πå‡∏ã‡∏≤‡∏¢‡∏•‡∏á‡πÇ‡∏ó‡∏©‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏ô‡∏µ‡∏´‡∏ô‡∏±‡∏Å ‚Üí ‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à/‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏õ‡∏±‡πà‡∏ô‡∏õ‡πà‡∏ß‡∏ô",
          "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏±‡∏ö‡∏≠‡∏≤‡∏¢ + ‡∏†‡∏≤‡∏£‡∏∞‡∏ä‡∏î‡πÄ‡∏ä‡∏¢ ‚Üí ‡πÄ‡∏õ‡∏¥‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡∏™‡∏∏‡∏î‡πÇ‡∏ï‡πà‡∏á"
        ],
        side: [{ h: "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡πÄ‡∏î‡πá‡∏î", t: "‡∏™‡∏±‡∏ô‡∏ï‡∏¥‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏•‡∏á‡πÇ‡∏ó‡∏©‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏°‡∏±‡∏Å‡πÑ‡∏°‡πà‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô" }],
        notes: "‡πÇ‡∏¢‡∏á‡∏™‡∏±‡πâ‡∏ô ‡πÜ: ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏´‡∏•‡∏±‡∏á‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÉ‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î WWII"
      },
      {
        type: "content",
        year: 1918,
        kicker: "Final ‚Ä¢ ‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô",
        title: "‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏≤‡∏Å WWI (‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ)",
        subtitle: "‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏î‡∏Å‡∏•‡∏±‡∏ß ‚Ä¢ ‡∏Å‡∏•‡πÑ‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏π‡∏ï ‚Ä¢ ‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£‡πÅ‡∏Ç‡πá‡∏á‡∏Å‡∏£‡πâ‡∏≤‡∏ß ‚Ä¢ ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏π‡πà‡∏à‡∏£‡∏¥‡∏¢‡∏ò‡∏£‡∏£‡∏°",
        bullets: [
          "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏∂‡∏á‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏™‡∏∞‡∏™‡∏° + ‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡πÄ‡∏•‡πá‡∏Å‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡πÉ‡∏´‡∏ç‡πà",
          "‡∏Å‡∏≤‡∏£‡∏ó‡∏π‡∏ï‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡πÑ‡∏Å‡∏Ñ‡∏•‡∏µ‡πà‡∏Ñ‡∏•‡∏≤‡∏¢‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£ ‚Äú‡∏≠‡∏±‡∏õ‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‚Äù",
          "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡πÇ‡∏´‡∏î‡∏Ç‡∏∂‡πâ‡∏ô ‡∏´‡∏≤‡∏Å‡πÑ‡∏£‡πâ‡∏Å‡∏£‡∏≠‡∏ö‡∏à‡∏£‡∏¥‡∏¢‡∏ò‡∏£‡∏£‡∏°"
        ],
        side: [
          { h: "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏õ‡∏¥‡∏î‡∏Ñ‡∏•‡∏¥‡∏õ", t: "‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‚Äî ‡∏°‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏•‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß" },
          { h: "‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ä‡∏ß‡∏ô‡∏Ñ‡∏¥‡∏î", t: "‡∏ñ‡πâ‡∏≤‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡πÅ‡∏ö‡∏ö 1914 ‡πÄ‡∏Å‡∏¥‡∏î‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡πÄ‡∏´‡πá‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á?" }
        ],
        notes: "‡∏û‡∏π‡∏î‡∏ä‡πâ‡∏≤ ‡πÜ ‡∏Ñ‡∏∏‡∏°‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏¢‡∏∏‡∏î 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏¥‡∏î‡∏Ñ‡∏•‡∏¥‡∏õ"
      }
    ];

    const years = [1914,1915,1916,1917,1918];

    /* --------------------- state --------------------- */
    let idx = 0;
    let notesOn = false;
    let overviewOn = false;
    let recordMode = false;

    /* --------------------- DOM refs --------------------- */
    const elSlide = document.getElementById("slide");
    const elNotesBlock = document.getElementById("notesBlock");
    const elNotesText = document.getElementById("notesText");
    const elOverview = document.getElementById("overview");
    const elOvGrid = document.getElementById("ovGrid");
    const elProg = document.getElementById("progress");
    const elSlideCount = document.getElementById("slideCount");
    const elBottomCount = document.getElementById("bottomCount");
    const elOvCount = document.getElementById("ovCount");
    const elYearPill = document.getElementById("yearPill");
    const elActiveYear = document.getElementById("activeYear");
    const elTimeFill = document.getElementById("timeFill");
    const elBg = document.getElementById("bg");
    const elRecordPill = document.getElementById("recordPill");

    /* buttons */
    document.getElementById("btnPrev").onclick = () => prev();
    document.getElementById("btnNext").onclick = () => next();
    document.getElementById("btnNotes").onclick = () => toggleNotes();
    document.getElementById("btnOverview").onclick = () => toggleOverview();
    document.getElementById("btnRecord").onclick = () => toggleRecord();
    document.getElementById("btnFs").onclick = () => toggleFs();
document.getElementById("btnSpeak").onclick = () => speakCurrent();
    document.getElementById("btnAudio").onclick = () => playSlideAudio();

    /* --------------------- Study Zone (Flashcards + Quiz) --------------------- */
    const elStudyWrap = document.getElementById("studyWrap");
    const elFlashPanel = document.getElementById("flashPanel");
    const elQuizPanel = document.getElementById("quizPanel");

    const btnFlash = document.getElementById("btnFlash");
    const btnQuiz = document.getElementById("btnQuiz");
    const btnCloseStudy = document.getElementById("btnCloseStudy");

    const tabFlash = document.getElementById("tabFlash");
    const tabQuiz = document.getElementById("tabQuiz");

    // Flash refs
    const elFcCard = document.getElementById("fcCard");
    const elFcFront = document.getElementById("fcFront");
    const elFcBack = document.getElementById("fcBack");
    const elFcHint = document.getElementById("fcHint");
    const elFcTag = document.getElementById("fcTag");
    const elFcSource = document.getElementById("fcSource");
    const elFcCount = document.getElementById("fcCount");
    const elFcGrid = document.getElementById("fcGrid");
    const btnFcPrev = document.getElementById("btnFcPrev");
    const btnFcNext = document.getElementById("btnFcNext");
    const btnFcFlip = document.getElementById("btnFcFlip");
    const btnFcShuffle = document.getElementById("btnFcShuffle");

    // Quiz refs
    const elQuizList = document.getElementById("quizList");
    const elQuizMeta = document.getElementById("quizMeta");
    const elQuizN = document.getElementById("quizN");
    const btnQuizGen = document.getElementById("btnQuizGen");
    const btnQuizGrade = document.getElementById("btnQuizGrade");

    let studyOn = false;
    let activeStudyTab = "flash";

    // -------- Flashcards data (built from slides) --------
    let flashcards = [];
    let fcOrder = [];
    let fcIdx = 0;

    function pick(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

    function bulletsToText(bullets){
      const xs = (bullets||[]).map(b=>stripTags(b)).filter(Boolean);
      if (!xs.length) return "";
      return xs.map((t)=>"‚Ä¢ "+t).join("\n");
    }

    function mkCard({front, back, hint="", tag="Flashcard", source=""}){
      return { front, back, hint, tag, source };
    }

    function buildFlashcards(){
      const cards = [];
      slides.forEach((s, i)=>{
        const title = stripTags(s.title||"");
        const kicker = stripTags(s.kicker||"");
        const y = s.year;

        // Keyword-based "thinking" cards
        const t = (title + " " + kicker).toLowerCase();

        if (t.includes("main")){
          cards.push(mkCard({
            tag: "‡∏Ñ‡∏¥‡∏î‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ‚Ä¢ ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏ä‡∏¥‡∏á‡∏£‡∏∞‡∏ö‡∏ö",
            front: "MAIN ‡πÉ‡∏ô‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏ WWI ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏≠‡∏∞‡πÑ‡∏£ ‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡πÑ‡∏° ‚ÄúMAIN‚Äù ‡∏ñ‡∏∂‡∏á‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡πÄ‡∏•‡πá‡∏Å ‡πÜ ‡∏•‡∏∏‡∏Å‡∏•‡∏≤‡∏°‡πÑ‡∏î‡πâ?",
            hint: "‡∏•‡∏≠‡∏á‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ó‡∏µ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ ‡πÅ‡∏•‡πâ‡∏ß‡πÇ‡∏¢‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ß",
            back: [
              "MAIN = Militarism (‡πÅ‡∏Ç‡πà‡∏á‡∏™‡∏∞‡∏™‡∏°‡∏Å‡∏≠‡∏á‡∏ó‡∏±‡∏û/‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò), Alliances (‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£‡πÅ‡∏Ç‡πá‡∏á‡∏Å‡∏£‡πâ‡∏≤‡∏ß), Imperialism (‡πÅ‡∏Ç‡πà‡∏á‡∏≠‡∏≤‡∏ì‡∏≤‡∏ô‡∏¥‡∏Ñ‡∏°/‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£), Nationalism (‡∏ä‡∏≤‡∏ï‡∏¥‡∏ô‡∏¥‡∏¢‡∏°‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á).",
              "‡∏°‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà ‚Äò‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‚Äô ‡πÅ‡∏ï‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏£‡∏á‡∏ï‡∏∂‡∏á‡∏™‡∏∞‡∏™‡∏° ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏¥‡∏î‡∏ß‡∏¥‡∏Å‡∏§‡∏ï ‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à/‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£‡∏û‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏•‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß ‡∏Ñ‡∏∏‡∏°‡∏¢‡∏≤‡∏Å ‡πÅ‡∏•‡∏∞‡∏ó‡∏∏‡∏Å‡∏ù‡πà‡∏≤‡∏¢‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏µ‡∏ö‡∏•‡∏á‡∏°‡∏∑‡∏≠."
            ].join("\n\n"),
            source: `‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏™‡πÑ‡∏•‡∏î‡πå ${i+1} ‚Ä¢ ‡∏õ‡∏µ ${y}`
          }));
        }

        if (t.includes("sarajevo") || t.includes("28") || t.includes("‡∏ä‡∏ô‡∏ß‡∏ô")){
          cards.push(mkCard({
            tag: "‡∏Ñ‡∏¥‡∏î‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ‚Ä¢ ‡∏ä‡∏ô‡∏ß‡∏ô vs ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏",
            front: "‡∏ó‡∏≥‡πÑ‡∏° Sarajevo (28 ‡∏°‡∏¥.‡∏¢. 1914) ‡∏ñ‡∏∂‡∏á‡πÄ‡∏õ‡πá‡∏ô ‚Äú‡∏ä‡∏ô‡∏ß‡∏ô‚Äù ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà ‚Äú‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‚Äù ‡∏Ç‡∏≠‡∏á WWI?",
            hint: "‡∏ï‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡∏°‡∏µ 2 ‡∏ä‡∏±‡πâ‡∏ô: (1) ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå (2) ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß",
            back: [
              "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏•‡∏≠‡∏ö‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏¢‡πÑ‡∏ü‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏Å‡∏≤‡∏£‡∏ó‡∏π‡∏ï‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (‡∏≠‡∏≠‡∏™‡πÄ‡∏ï‡∏£‡∏µ‡∏¢-‡∏Æ‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏µ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏á‡πÇ‡∏ó‡∏©‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÄ‡∏ö‡∏µ‡∏¢).",
              "‡πÅ‡∏ï‡πà‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏∂‡∏á‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏™‡∏∞‡∏™‡∏° (MAIN) + ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏î‡∏£‡∏∞‡πÅ‡∏ß‡∏á ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡πÇ‡∏ï‡πâ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏î‡∏°‡∏¥‡πÇ‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏ó‡∏ß‡∏µ‡∏õ."
            ].join("\n\n"),
            source: `‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏™‡πÑ‡∏•‡∏î‡πå ${i+1} ‚Ä¢ ‡∏õ‡∏µ ${y}`
          }));
        }

        if (t.includes("trench") || t.includes("‡∏™‡∏ô‡∏≤‡∏°‡πÄ‡∏û‡∏•‡∏≤‡∏∞")){
          cards.push(mkCard({
            tag: "‡∏Ñ‡∏¥‡∏î‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ‚Ä¢ ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏ö",
            front: "‡∏ó‡∏≥‡πÑ‡∏° Trench Warfare ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏° ‚Äú‡∏¢‡∏∑‡∏î‡πÄ‡∏¢‡∏∑‡πâ‡∏≠‚Äù ‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏™‡∏∂‡∏Å‡∏´‡∏£‡∏≠?",
            hint: "‡∏ï‡∏≠‡∏ö‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏Å‡∏±‡∏ö‡∏¢‡∏∏‡∏ó‡∏ò‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ó‡∏±‡∏ô‡∏Å‡∏±‡∏ô",
            back: [
              "‡πÅ‡∏ô‡∏ß‡∏™‡∏ô‡∏≤‡∏°‡πÄ‡∏û‡∏•‡∏≤‡∏∞ + ‡∏•‡∏ß‡∏î‡∏´‡∏ô‡∏≤‡∏° + ‡∏õ‡∏∑‡∏ô‡∏Å‡∏•/‡∏õ‡∏∑‡∏ô‡πÉ‡∏´‡∏ç‡πà ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ö‡∏∏‡∏Å‡∏ú‡πà‡∏≤‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ó‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‚Üí ‡∏ï‡∏≤‡∏¢‡∏°‡∏≤‡∏Å‡πÅ‡∏ï‡πà‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡πâ‡∏≠‡∏¢.",
              "‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏à‡∏∂‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô ‚Äò‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏≠‡∏µ‡∏Å‡∏ù‡πà‡∏≤‡∏¢‡∏´‡∏°‡∏î‡πÅ‡∏£‡∏á/‡∏´‡∏°‡∏î‡∏Ñ‡∏ô/‡∏´‡∏°‡∏î‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‚Äô ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ä‡∏ô‡∏∞‡∏â‡∏±‡∏ö‡∏û‡∏•‡∏±‡∏ô."
            ].join("\n\n"),
            source: `‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏™‡πÑ‡∏•‡∏î‡πå ${i+1} ‚Ä¢ ‡∏õ‡∏µ ${y}`
          }));
        }

        if (t.includes("‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡πÉ‡∏´‡∏°‡πà") || t.includes("‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ")){
          cards.push(mkCard({
            tag: "‡∏Ñ‡∏¥‡∏î‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ‚Ä¢ ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ & ‡∏à‡∏£‡∏¥‡∏¢‡∏ò‡∏£‡∏£‡∏°",
            front: "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô WWI ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ‚Äú‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏ó‡∏≥‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‚Äù ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",
            hint: "‡∏•‡∏≠‡∏á‡∏ï‡∏≠‡∏ö‡∏ß‡πà‡∏≤ ‚Äò‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô/‡πÇ‡∏´‡∏î‡∏Ç‡∏∂‡πâ‡∏ô/‡∏Å‡∏•‡∏±‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‚Äô ‡∏¢‡∏±‡∏á‡πÑ‡∏á",
            back: [
              "‡∏õ‡∏∑‡∏ô‡∏Å‡∏•/‡∏õ‡∏∑‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ö‡∏∏‡∏Å‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£‡∏´‡∏°‡∏π‡πà ‚Üí ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å.",
              "‡∏Å‡πä‡∏≤‡∏ã‡∏û‡∏¥‡∏©‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏°‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ß‡∏ó‡∏≤‡∏á‡∏à‡∏¥‡∏ï‡πÉ‡∏à.",
              "‡∏£‡∏ñ‡∏ñ‡∏±‡∏á/‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏¥‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏¢‡∏∏‡∏Ñ‡πÉ‡∏´‡∏°‡πà: ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤ ‚Äò‡∏Å‡∏£‡∏≠‡∏ö‡∏à‡∏£‡∏¥‡∏¢‡∏ò‡∏£‡∏£‡∏°‚Äô ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡∏Ç‡∏∂‡πâ‡∏ô."
            ].join("\n\n"),
            source: `‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏™‡πÑ‡∏•‡∏î‡πå ${i+1} ‚Ä¢ ‡∏õ‡∏µ ${y}`
          }));
        }

        if (t.includes("‡∏™‡∏±‡∏ô‡∏ï‡∏¥‡∏†‡∏≤‡∏û") || t.includes("‡πÅ‡∏ß‡∏£‡πå‡∏ã‡∏≤‡∏¢") || t.includes("che")){
          cards.push(mkCard({
            tag: "‡∏Ñ‡∏¥‡∏î‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ‚Ä¢ ‡∏´‡∏•‡∏±‡∏á‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°",
            front: "‡∏ó‡∏≥‡πÑ‡∏° ‚Äò‡∏™‡∏±‡∏ô‡∏ï‡∏¥‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏•‡∏á‡πÇ‡∏ó‡∏©‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‚Äô ‡∏à‡∏∂‡∏á‡∏°‡∏±‡∏Å‡πÑ‡∏°‡πà‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô? (‡πÇ‡∏¢‡∏á‡∏Å‡∏±‡∏ö‡πÅ‡∏ß‡∏£‡πå‡∏ã‡∏≤‡∏¢)",
            hint: "‡∏ï‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏≤‡∏á‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à + ‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á + ‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏™‡∏±‡∏á‡∏Ñ‡∏°",
            back: [
              "‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏•‡∏á‡πÇ‡∏ó‡∏©‡∏´‡∏ô‡∏±‡∏Å‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à/‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏õ‡∏±‡πà‡∏ô‡∏õ‡πà‡∏ß‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏±‡∏ö‡πÅ‡∏Ñ‡πâ‡∏ô.",
              "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏±‡∏ö‡∏≠‡∏≤‡∏¢/‡∏†‡∏≤‡∏£‡∏∞‡∏ä‡∏î‡πÄ‡∏ä‡∏¢‡πÄ‡∏õ‡∏¥‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡∏™‡∏∏‡∏î‡πÇ‡∏ï‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏≠‡∏≤‡∏Ñ‡∏∑‡∏ô.",
              "‡∏à‡∏∂‡∏á‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÑ‡∏ü‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á‡∏£‡∏≠‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î‡∏à‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤."
            ].join("\n\n"),
            source: `‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏™‡πÑ‡∏•‡∏î‡πå ${i+1} ‚Ä¢ ‡∏õ‡∏µ ${y}`
          }));
        }

        // Default card (summary) ‚Äî keep it faithful to your old content
        const btxt = bulletsToText(s.bullets);
        const sideTxt = (s.side||[]).map(x=>`‚Ä¢ ${x.h}: ${x.t}`).join("\n");
        const backParts = [];
        if (s.subtitle) backParts.push(stripTags(s.subtitle));
        if (btxt) backParts.push(btxt);
        if (sideTxt) backParts.push(sideTxt);

        cards.push(mkCard({
          tag: `‡∏™‡∏£‡∏∏‡∏õ ‚Ä¢ ‡∏™‡πÑ‡∏•‡∏î‡πå ${i+1}`,
          front: title ? `‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏™‡πÑ‡∏•‡∏î‡πå‡∏ô‡∏µ‡πâ: ‚Äú${title}‚Äù` : `‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏™‡πÑ‡∏•‡∏î‡πå ${i+1}`,
          hint: "‡∏•‡∏≠‡∏á‡∏™‡∏£‡∏∏‡∏õ 2‚Äì3 ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡πÑ‡∏•‡πà bullet",
          back: backParts.filter(Boolean).join("\n\n"),
          source: `‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏™‡πÑ‡∏•‡∏î‡πå ${i+1} ‚Ä¢ ‡∏õ‡∏µ ${y}`
        }));
      });

      flashcards = cards;
      fcOrder = [...Array(flashcards.length)].map((_,i)=>i);
      fcIdx = 0;
      renderFlashGrid();
      renderFlashCard();
    }

    function renderFlashGrid(){
      elFcGrid.innerHTML = "";
      flashcards.forEach((c, i)=>{
        const b = document.createElement("button");
        b.className = "rounded-2xl border border-white/10 bg-white/5 p-4 text-left transition hover:bg-white/10 active:translate-y-[1px]";
        b.innerHTML = `
          <div class="mb-2 flex items-center justify-between gap-2">
            <div class="text-xs text-white/70">${c.tag}</div>
            <span class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-[11px] text-white/70">#${i+1}</span>
          </div>
          <div class="lc2 text-sm font-semibold text-white/90">${c.front}</div>
          <div class="mt-2 lc3 text-xs text-white/60">${(c.hint||"").replace(/</g,"&lt;")}</div>
        `;
        b.onclick = ()=>{
          fcIdx = fcOrder.indexOf(i);
          if (fcIdx < 0) fcIdx = 0;
          elFcCard.classList.remove("is-flipped");
          renderFlashCard();
        };
        elFcGrid.appendChild(b);
      });
    }

    function renderFlashCard(){
      if (!flashcards.length) return;
      const realIdx = fcOrder[fcIdx];
      const c = flashcards[realIdx];

      elFcFront.textContent = c.front;
      elFcHint.textContent = c.hint || "";
      elFcBack.textContent = c.back || "";
      elFcTag.textContent = c.tag || "Flashcard";
      elFcSource.textContent = c.source || "";
      elFcCount.textContent = `Card ${fcIdx+1}/${fcOrder.length}`;
    }

    function fcPrev(){
      fcIdx = clamp(fcIdx-1, 0, fcOrder.length-1);
      elFcCard.classList.remove("is-flipped");
      renderFlashCard();
    }
    function fcNext(){
      fcIdx = clamp(fcIdx+1, 0, fcOrder.length-1);
      elFcCard.classList.remove("is-flipped");
      renderFlashCard();
    }
    function fcFlip(){
      elFcCard.classList.toggle("is-flipped");
    }
    function fcShuffle(){
      // Fisher-Yates
      for (let i = fcOrder.length - 1; i > 0; i--){
        const j = Math.floor(Math.random() * (i + 1));
        [fcOrder[i], fcOrder[j]] = [fcOrder[j], fcOrder[i]];
      }
      fcIdx = 0;
      elFcCard.classList.remove("is-flipped");
      renderFlashCard();
    }

    // -------- Quiz pool (4-choice, thinking-oriented) --------
    const quizPool = [
      {
        tag: "‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏£‡∏∞‡∏ö‡∏ö",
        q: "‡∏ñ‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£‡πÅ‡∏Ç‡πá‡∏á‡∏Å‡∏£‡πâ‡∏≤‡∏ß (Alliances) ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏¢‡∏∏‡πÇ‡∏£‡∏õ‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏µ 1914 ‡∏ß‡∏¥‡∏Å‡∏§‡∏ï Sarajevo ‡∏°‡∏µ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏° ‚Äò‡∏•‡∏∏‡∏Å‡∏•‡∏≤‡∏°‚Äô ‡∏ô‡πâ‡∏≠‡∏¢‡∏•‡∏á‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏≠‡∏∞‡πÑ‡∏£?",
        choices: [
          "‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏£‡∏±‡∏ê‡∏à‡∏∞‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ß‡∏á‡∏Ñ‡∏π‡πà‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡πÑ‡∏°‡πà‡∏î‡∏∂‡∏á‡∏£‡∏±‡∏ê‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥",
          "‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°",
          "‡∏ä‡∏≤‡∏ï‡∏¥‡∏ô‡∏¥‡∏¢‡∏°‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÄ‡∏≠‡∏á",
          "‡∏Å‡∏≤‡∏£‡∏ó‡∏π‡∏ï‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏µ‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ"
        ],
        ans: 0,
        explain: "‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡πÇ‡∏ï‡πâ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏î‡∏°‡∏¥‡πÇ‡∏ô ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ù‡πà‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß ‡∏≠‡∏µ‡∏Å‡∏ù‡πà‡∏≤‡∏¢‡∏ñ‡∏π‡∏Å‡∏î‡∏∂‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£.",
        source: "‡πÇ‡∏¢‡∏á MAIN + ‡∏ä‡∏ô‡∏ß‡∏ô"
      },
      {
        tag: "‡∏ä‡∏ô‡∏ß‡∏ô vs ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏",
        q: "‡πÄ‡∏´‡∏ï‡∏∏‡πÉ‡∏î‡∏Å‡∏≤‡∏£‡∏•‡∏≠‡∏ö‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà Sarajevo ‡∏à‡∏∂‡∏á‡∏ñ‡∏π‡∏Å‡∏°‡∏≠‡∏á‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô ‚Äò‡∏ä‡∏ô‡∏ß‡∏ô‚Äô ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ ‚Äò‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‚Äô ‡∏Ç‡∏≠‡∏á WWI?",
        choices: [
          "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",
          "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏¢‡∏∏‡πÇ‡∏£‡∏õ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏∂‡∏á‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏™‡∏∞‡∏™‡∏°‡πÄ‡∏•‡∏¢",
          "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏∂‡∏á‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡πÄ‡∏ä‡∏¥‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∞‡∏™‡∏°‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏à‡∏∏‡∏î‡πÉ‡∏´‡πâ‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î",
          "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡πÉ‡∏ô‡∏õ‡∏µ 1918"
        ],
        ans: 2,
        explain: "‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏ä‡∏¥‡∏á‡∏£‡∏∞‡∏ö‡∏ö (MAIN) ‡∏™‡∏∞‡∏™‡∏°‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÄ‡∏•‡πá‡∏Å‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡πÉ‡∏´‡∏ç‡πà‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢.",
        source: "‡∏™‡πÑ‡∏•‡∏î‡πå‡∏ä‡∏ô‡∏ß‡∏ô + MAIN"
      },
      {
        tag: "‡∏™‡∏ô‡∏≤‡∏°‡πÄ‡∏û‡∏•‡∏≤‡∏∞",
        q: "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏≠‡∏∞‡πÑ‡∏£ ‚Äò‡∏õ‡∏∑‡∏ô‡∏Å‡∏• + ‡∏õ‡∏∑‡∏ô‡πÉ‡∏´‡∏ç‡πà‚Äô ‡∏à‡∏∂‡∏á‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡∏ß‡∏£‡∏ö‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å ‚Äò‡∏ï‡∏£‡∏∂‡∏á‚Äô ‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏™‡∏∂‡∏Å‡∏´‡∏£‡∏≠?",
        choices: [
          "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö ‡∏Å‡∏≤‡∏£‡∏ö‡∏∏‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡∏≤‡∏¢‡∏™‡∏π‡∏á",
          "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ö‡∏∏‡∏Å‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏Å ‡∏à‡∏ö‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡πÉ‡∏ô 1 ‡∏ß‡∏±‡∏ô",
          "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢",
          "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏π‡∏ï‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô"
        ],
        ans: 0,
        explain: "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏Å‡∏≤‡∏£‡∏¢‡∏¥‡∏á‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ù‡πà‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö ‡πÅ‡∏ô‡∏ß‡∏£‡∏ö‡∏à‡∏∂‡∏á‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡∏¢‡∏∑‡∏î‡πÄ‡∏¢‡∏∑‡πâ‡∏≠.",
        source: "Trench warfare"
      },
      {
        tag: "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏Å‡∏±‡∏ö‡∏à‡∏£‡∏¥‡∏¢‡∏ò‡∏£‡∏£‡∏°",
        q: "‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏´‡∏ô‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î ‚Äò‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤ ‡∏à‡∏£‡∏¥‡∏¢‡∏ò‡∏£‡∏£‡∏°‚Äô ‡πÉ‡∏ô WWI ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
        choices: [
          "‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô",
          "‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏£‡πá‡∏ß ‡πÅ‡∏ï‡πà‡∏Å‡∏£‡∏≠‡∏ö‡∏à‡∏£‡∏¥‡∏¢‡∏ò‡∏£‡∏£‡∏°/‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏ï‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏ó‡∏±‡∏ô ‡∏à‡∏∂‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏´‡∏î‡∏Ç‡∏≠‡∏á‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°",
          "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ó‡∏π‡∏ï‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß",
          "‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏π‡πâ‡∏ö‡∏≤‡∏î‡πÄ‡∏à‡πá‡∏ö"
        ],
        ans: 1,
        explain: "‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏°‡∏≤‡∏ô ‡πÅ‡∏ï‡πà‡∏Å‡∏£‡∏≠‡∏ö‡∏à‡∏£‡∏¥‡∏¢‡∏ò‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏Å‡∏±‡∏ö‡∏î‡∏π‡πÅ‡∏•‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏ä‡πâ‡∏≤.",
        source: "‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡πÉ‡∏´‡∏°‡πà"
      },
      {
        tag: "‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏™‡∏±‡∏á‡∏Ñ‡∏°",
        q: "‡∏Ç‡πâ‡∏≠‡πÉ‡∏î ‚Äò‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡πÄ‡∏´‡∏ï‡∏∏‚Äì‡∏ú‡∏•‚Äô ‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏à‡∏≤‡∏Å‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö WWI ‡∏ï‡πà‡∏≠‡∏™‡∏±‡∏á‡∏Ñ‡∏°?",
        choices: [
          "‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô ‚Üí ‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏ó‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ñ‡∏≤‡∏ß‡∏£",
          "‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏°‡∏≤‡∏Å ‚Üí ‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏™‡∏±‡πâ‡∏ô‡∏•‡∏á",
          "‡πÄ‡∏Å‡∏¥‡∏î trauma ‚Üí ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤",
          "‡∏£‡∏±‡∏ê‡∏•‡πà‡∏°‡∏™‡∏•‡∏≤‡∏¢ ‚Üí ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏û‡∏£‡∏°‡πÅ‡∏î‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏™‡∏°‡∏≠"
        ],
        ans: 0,
        explain: "‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏î‡∏∂‡∏á‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡πÑ‡∏õ‡πÅ‡∏ô‡∏ß‡∏´‡∏ô‡πâ‡∏≤ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°/‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡πÉ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß.",
        source: "‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏™‡∏±‡∏á‡∏Ñ‡∏°"
      },
      {
        tag: "‡∏´‡∏•‡∏±‡∏á‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°",
        q: "‡∏ó‡∏≥‡πÑ‡∏°‡∏™‡∏ô‡∏ò‡∏¥‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ó‡∏µ‡πà‡∏•‡∏á‡πÇ‡∏ó‡∏©‡∏ù‡πà‡∏≤‡∏¢‡πÅ‡∏û‡πâ‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡∏≠‡∏≤‡∏à ‚Äò‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‚Äô ‡∏ï‡πà‡∏≠‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏´‡∏°‡πà?",
        choices: [
          "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏±‡∏ö‡πÅ‡∏Ñ‡πâ‡∏ô ‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à/‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏õ‡∏±‡πà‡∏ô‡∏õ‡πà‡∏ß‡∏ô ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡∏ó‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡∏™‡∏∏‡∏î‡πÇ‡∏ï‡πà‡∏á",
          "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏ù‡πà‡∏≤‡∏¢‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡πÄ‡∏™‡∏°‡∏≠",
          "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏±‡∏ê‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô",
          "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏´‡∏¢‡∏∏‡∏î‡∏û‡∏±‡∏í‡∏ô‡∏≤"
        ],
        ans: 0,
        explain: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏±‡∏ö‡πÅ‡∏Ñ‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏≠‡∏≤‡∏Ñ‡∏∑‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏∏‡∏î‡πÇ‡∏ï‡πà‡∏á.",
        source: "‡πÅ‡∏ß‡∏£‡πå‡∏ã‡∏≤‡∏¢/‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô"
      },
      {
        tag: "‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå",
        q: "‡∏ñ‡πâ‡∏≤‡πÄ‡∏Å‡∏¥‡∏î ‚Äò‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏î‡∏£‡∏∞‡πÅ‡∏ß‡∏á‚Äô ‡∏ß‡πà‡∏≤‡∏≠‡∏µ‡∏Å‡∏ù‡πà‡∏≤‡∏¢‡∏à‡∏∞‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏Å‡πà‡∏≠‡∏ô (security dilemma) ‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏î‡πÄ‡∏õ‡πá‡∏ô ‚Äò‡∏ó‡∏≤‡∏á‡∏≠‡∏≠‡∏Å‡πÄ‡∏ä‡∏¥‡∏á‡∏£‡∏∞‡∏ö‡∏ö‚Äô ‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô WWI?",
        choices: [
          "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡πÅ‡∏Ç‡πà‡∏á‡∏Å‡∏±‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£",
          "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏•‡πÑ‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏π‡∏ï/‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏µ‡πà‡∏Ñ‡∏•‡∏≤‡∏¢‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡πÅ‡∏•‡∏∞‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡πÑ‡∏î‡πâ",
          "‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏à‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",
          "‡∏ï‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®"
        ],
        ans: 1,
        explain: "‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÉ‡∏ô‡∏™‡πÑ‡∏•‡∏î‡πå‡∏ó‡πâ‡∏≤‡∏¢‡∏¢‡πâ‡∏≥‡∏ß‡πà‡∏≤‡∏Å‡∏•‡πÑ‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏π‡∏ï‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏µ‡πà‡∏Ñ‡∏•‡∏≤‡∏¢‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÇ‡∏î‡∏°‡∏¥‡πÇ‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö.",
        source: "‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏≤‡∏Å WWI"
      },
      {
        tag: "‡∏™‡∏£‡∏∏‡∏õ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°",
        q: "‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á ‚Äò‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏™‡∏¥‡πà‡∏á‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‚Äô ‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
        choices: [
          "‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÇ‡∏ä‡∏Ñ‡∏ä‡∏∞‡∏ï‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô",
          "‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏•‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÑ‡∏î‡πâ",
          "‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡∏•‡πâ‡∏ß‡∏ô ‡πÜ ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à",
          "‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏õ‡∏µ 1914 ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏µ‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏≥‡∏™‡∏≤‡∏õ"
        ],
        ans: 1,
        explain: "‡∏™‡πÑ‡∏•‡∏î‡πå‡∏ó‡πâ‡∏≤‡∏¢‡πÄ‡∏ô‡πâ‡∏ô‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó ‚Äò‡∏£‡∏∞‡∏ö‡∏ö + ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‚Äô ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏Å‡∏•‡πÑ‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï.",
        source: "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏õ‡∏¥‡∏î‡∏Ñ‡∏•‡∏¥‡∏õ"
      },
      {
        tag: "‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à",
        q: "‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏∏‡∏î‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö MAIN ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á?",
        choices: [
          "Militarism, Alliances, Imperialism, Nationalism",
          "Money, Arms, Industry, Nations",
          "Modernism, Airpower, Iron, Neutrality",
          "Markets, Alliances, Immigration, Negotiation"
        ],
        ans: 0,
        explain: "MAIN ‡πÉ‡∏ä‡πâ‡∏à‡∏≥ 4 ‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏™‡∏∞‡∏™‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏∂‡∏á‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°.",
        source: "‡∏™‡πÑ‡∏•‡∏î‡πå MAIN"
      },
      {
        tag: "‡∏Ñ‡∏¥‡∏î‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ‚Ä¢ ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ",
        q: "‡∏ñ‡πâ‡∏≤‡∏£‡∏ñ‡∏ñ‡∏±‡∏á‡∏¢‡∏∏‡∏Ñ‡πÅ‡∏£‡∏Å‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î ‡πÅ‡∏ï‡πà‡∏ñ‡∏π‡∏Å‡∏ô‡∏≥‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß ‚Äò‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏≤‡πÄ‡∏ä‡∏¥‡∏á‡∏£‡∏∞‡∏ö‡∏ö‚Äô ‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?",
        choices: [
          "‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏ß‡πà‡∏≤‡∏°‡∏µ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ‡∏£‡∏ö‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï ‡πÅ‡∏°‡πâ‡∏ä‡πà‡∏ß‡∏á‡πÅ‡∏£‡∏Å‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå",
          "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏ô‡∏≤‡∏°‡πÄ‡∏û‡∏•‡∏≤‡∏∞‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß",
          "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏∑‡∏ô‡∏Å‡∏•‡∏≠‡∏µ‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ",
          "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏à‡∏ö‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏à‡∏£‡∏à‡∏≤"
        ],
        ans: 0,
        explain: "‡∏£‡∏ñ‡∏ñ‡∏±‡∏á‡∏Ñ‡∏∑‡∏≠‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ç‡∏≠‡∏á‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏ö‡πÅ‡∏ö‡∏ö‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà/‡∏ó‡∏∞‡∏•‡∏ß‡∏á‡πÅ‡∏ô‡∏ß‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô ‡πÅ‡∏°‡πâ‡∏ä‡πà‡∏ß‡∏á‡πÅ‡∏£‡∏Å‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÅ‡∏ï‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏¢‡∏∏‡∏Ñ‡πÉ‡∏´‡∏°‡πà.",
        source: "‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡πÉ‡∏´‡∏°‡πà"
      },
      {
        tag: "‡∏Ñ‡∏¥‡∏î‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ‚Ä¢ ‡∏™‡∏±‡∏á‡∏Ñ‡∏°",
        q: "‡∏ó‡∏≥‡πÑ‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏¥‡∏î trauma (shell shock) ‡∏à‡∏∂‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ï‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏™‡∏°‡∏±‡∏¢‡πÉ‡∏´‡∏°‡πà?",
        choices: [
          "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏•‡∏∑‡∏°‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ",
          "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ä‡∏µ‡πâ‡∏ß‡πà‡∏≤ ‚Äò‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‚Äô ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏°‡∏µ‡πÅ‡∏Ñ‡πà‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢ ‡πÅ‡∏ï‡πà‡∏°‡∏µ‡∏ö‡∏≤‡∏î‡πÅ‡∏ú‡∏•‡∏ó‡∏≤‡∏á‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß",
          "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ó‡∏´‡∏≤‡∏£‡∏ú‡πà‡∏≤‡∏ô‡∏®‡∏∂‡∏Å",
          "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏™‡∏±‡πâ‡∏ô‡∏•‡∏á"
        ],
        ans: 1,
        explain: "‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î PTSD ‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏à‡∏¥‡∏ï‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏° ‡πÑ‡∏°‡πà‡∏à‡∏ö‡∏ó‡∏µ‡πà‡∏™‡∏ô‡∏≤‡∏°‡∏£‡∏ö.",
        source: "‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏™‡∏±‡∏á‡∏Ñ‡∏°"
      }
    ];

    let currentQuiz = [];

    function shuffleInPlace(a){
      for (let i=a.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [a[i],a[j]] = [a[j],a[i]];
      }
      return a;
    }

    function setTab(tab){
      activeStudyTab = tab;
      const onFlash = tab === "flash";
      elFlashPanel.classList.toggle("hidden", !onFlash);
      elQuizPanel.classList.toggle("hidden", onFlash);

      tabFlash.className = onFlash
        ? "rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-sm font-semibold text-white transition hover:bg-white/15 active:translate-y-[1px]"
        : "rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm font-semibold text-white/90 transition hover:bg-white/10 active:translate-y-[1px]";

      tabQuiz.className = !onFlash
        ? "rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-sm font-semibold text-white transition hover:bg-white/15 active:translate-y-[1px]"
        : "rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm font-semibold text-white/90 transition hover:bg-white/10 active:translate-y-[1px]";

      if (!onFlash) {
        if (!currentQuiz.length) genQuiz();
      } else {
        if (!flashcards.length) buildFlashcards();
      }
    }

    function openStudy(tab="flash"){
      studyOn = true;
      elStudyWrap.classList.remove("hidden");
      setTab(tab);
      // scroll into view nicely
      elStudyWrap.scrollIntoView({behavior:"smooth", block:"start"});
    }

    function closeStudy(){
      studyOn = false;
      elStudyWrap.classList.add("hidden");
      elQuizMeta.classList.add("hidden");
      // reset flip so it doesn't look weird next time
      elFcCard.classList.remove("is-flipped");
    }

    function genQuiz(){
      const n = parseInt(elQuizN.value || "5", 10);
      const pool = shuffleInPlace([...quizPool]);
      currentQuiz = pool.slice(0, Math.min(n, pool.length));
      renderQuiz(false);
    }

    function renderQuiz(showGrade){
      elQuizList.innerHTML = "";
      elQuizMeta.classList.add("hidden");
      elQuizMeta.textContent = "";

      currentQuiz.forEach((qq, i)=>{
        const card = document.createElement("div");
        card.className = "rounded-3xl border border-white/10 bg-white/5 p-5 shadow-[0_25px_80px_rgba(0,0,0,0.35)]";
        const name = `q_${i}`;
        const opts = qq.choices.map((c, k)=>{
          return `
            <label class="group flex cursor-pointer items-start gap-3 rounded-2xl border border-white/10 bg-black/30 p-4 transition hover:bg-black/35">
              <input type="radio" name="${name}" value="${k}" class="mt-1">
              <div class="flex-1">
                <div class="text-sm leading-relaxed text-white/85">${c}</div>
              </div>
            </label>
          `;
        }).join("");

        card.innerHTML = `
          <div class="mb-3 flex flex-wrap items-center justify-between gap-2">
            <span class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">${qq.tag}</span>
            <span class="text-xs text-white/55">‡∏Ç‡πâ‡∏≠ ${i+1}/${currentQuiz.length}</span>
          </div>
          <div class="text-balance text-lg font-extrabold tracking-tight text-white/95">${qq.q}</div>
          <div class="mt-4 space-y-3">${opts}</div>
          <div id="exp_${i}" class="mt-4 hidden rounded-2xl border border-white/10 bg-black/25 p-4 text-sm text-white/80"></div>
        `;
        elQuizList.appendChild(card);

        if (showGrade){
          const chosen = document.querySelector(`input[name="${name}"]:checked`);
          const val = chosen ? parseInt(chosen.value, 10) : -1;

          // decorate options
          const labels = card.querySelectorAll("label");
          labels.forEach((lab, k)=>{
            const base = "group flex cursor-pointer items-start gap-3 rounded-2xl border border-white/10 bg-black/30 p-4 transition hover:bg-black/35";
            if (k === qq.ans) {
              lab.className = base + " ring-2 ring-yellow-300/60 bg-yellow-300/10";
            } else if (k === val && val !== qq.ans) {
              lab.className = base + " ring-2 ring-rose-400/60 bg-rose-400/10";
            } else {
              lab.className = base;
            }
          });

          const exp = document.getElementById(`exp_${i}`);
          exp.classList.remove("hidden");
          const ok = (val === qq.ans);
          exp.innerHTML = `
            <div class="mb-2 font-semibold ${ok ? "text-yellow-200" : "text-rose-200"}">
              ${ok ? "‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á" : "‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å"} ‚Ä¢ ‡πÄ‡∏â‡∏•‡∏¢: ${["A","B","C","D"][qq.ans]}
            </div>
            <div class="text-white/80">${qq.explain}</div>
            <div class="mt-2 text-xs text-white/55">‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á: ${qq.source}</div>
          `;
        }
      });
    }

    function gradeQuiz(){
      const total = currentQuiz.length;
      let score = 0;
      currentQuiz.forEach((qq, i)=>{
        const chosen = document.querySelector(`input[name="q_${i}"]:checked`);
        const val = chosen ? parseInt(chosen.value, 10) : -1;
        if (val === qq.ans) score++;
      });
      renderQuiz(true);
      elQuizMeta.classList.remove("hidden");
      elQuizMeta.textContent = `‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: ${score}/${total} ‚Ä¢ ‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢‡πÅ‡∏•‡∏∞‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡πÉ‡∏ï‡πâ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢`;
      elQuizMeta.scrollIntoView({behavior:"smooth", block:"start"});
    }

    // -------- wire study buttons --------
    if (btnFlash) btnFlash.onclick = ()=> openStudy("flash");
    if (btnQuiz) btnQuiz.onclick = ()=> openStudy("quiz");
    if (btnCloseStudy) btnCloseStudy.onclick = ()=> closeStudy();
    if (tabFlash) tabFlash.onclick = ()=> setTab("flash");
    if (tabQuiz) tabQuiz.onclick = ()=> setTab("quiz");

    // Flash controls
    if (elFcCard) elFcCard.onclick = ()=> fcFlip();
    if (btnFcPrev) btnFcPrev.onclick = ()=> fcPrev();
    if (btnFcNext) btnFcNext.onclick = ()=> fcNext();
    if (btnFcFlip) btnFcFlip.onclick = ()=> fcFlip();
    if (btnFcShuffle) btnFcShuffle.onclick = ()=> fcShuffle();

    // Quiz controls
    if (btnQuizGen) btnQuizGen.onclick = ()=> genQuiz();
    if (btnQuizGrade) btnQuizGrade.onclick = ()=> gradeQuiz();



    /* --------------------- render helpers --------------------- */
    function setBgByYear(y){
      let cls = "from-yellow-500/8 via-transparent to-cyan-500/8";
      if (y <= 1914) cls = "from-yellow-500/8 via-transparent to-cyan-500/8";
      else if (y === 1915) cls = "from-yellow-500/7 via-transparent to-violet-500/8";
      else if (y === 1916) cls = "from-amber-500/7 via-transparent to-cyan-500/9";
      else if (y === 1917) cls = "from-violet-500/9 via-transparent to-cyan-500/8";
      else cls = "from-cyan-500/9 via-transparent to-yellow-500/7";
      elBg.className = `fixed inset-0 bg-gradient-to-br ${cls}`;
    }

    function setTimeline(y){
      elActiveYear.textContent = y;
      const i = years.indexOf(y);
      const pct = ((i+1)/years.length) * 100;
      elTimeFill.style.width = pct + "%";

      years.forEach((yy)=>{
        const el = document.getElementById("y"+yy);
        if (!el) return;
        if (yy === y){
          el.className = "rounded-xl border border-yellow-300/40 bg-yellow-300/10 text-yellow-100 px-2 py-2 text-xs shadow-[0_0_24px_rgba(253,224,71,0.18)]";
        } else {
          el.className = "rounded-xl border border-white/10 bg-white/5 text-white/60 px-2 py-2 text-xs";
        }
      });
    }

    function counts(){
      const t = slides.length;
      elSlideCount.textContent = `Slide ${idx+1}/${t}`;
      elBottomCount.textContent = `Slide ${idx+1}/${t}`;
      elOvCount.textContent = `Slide ${idx+1}/${t}`;
      elProg.style.width = `${((idx+1)/t)*100}%`;
    }

    function stripTags(html){
      const d = document.createElement("div");
      d.innerHTML = html;
      return d.textContent || d.innerText || "";
    }


    /* --------------------- voice / audio --------------------- */
    const elSlideAudio = document.getElementById("slideAudio");

    function buildNarration(s){
      const parts = [];
      if (s.kicker) parts.push(stripTags(s.kicker));
      if (s.title) parts.push(stripTags(s.title));
      if (s.subtitle) parts.push(stripTags(s.subtitle));
      (s.bullets||[]).forEach(b => parts.push(stripTags(b)));
      return parts.filter(Boolean).join(". ");
    }

    function speakText(text){
      try{
        if (!("speechSynthesis" in window)) return;
        window.speechSynthesis.cancel();
        const u = new SpeechSynthesisUtterance(text);
        u.lang = "th-TH"; // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÑ‡∏ó‡∏¢‡∏à‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏á ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡πá fallback ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏£‡∏∞‡∏ö‡∏ö
        u.rate = 1.0;
        u.pitch = 1.0;
        window.speechSynthesis.speak(u);
      }catch(e){
        console.warn("TTS failed", e);
      }
    }

    function speakCurrent(){
      const s = slides[idx];
      speakText(buildNarration(s));
    }

    function playSlideAudio(){
      try{
        const fn = `./audio/slide_${String(idx+1).padStart(2,'0')}.wav`;
        elSlideAudio.src = fn;
        elSlideAudio.play();
      }catch(e){
        console.warn("Audio play failed", e);
      }
    }

    function renderOverview(){
      elOvGrid.innerHTML = "";
      slides.forEach((s,n)=>{
        const btn = document.createElement("button");
        btn.className = "rounded-2xl border border-white/10 bg-white/5 p-5 text-left transition hover:bg-white/10 active:translate-y-[1px]";
        btn.innerHTML = `
          <div class="mb-2 flex items-center justify-between">
            <div class="text-xs text-white/60">${s.kicker}</div>
            <span class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">${s.year}</span>
          </div>
          <div class="lc2 text-sm font-semibold text-white/90">${stripTags(s.title)}</div>
          <div class="mt-2 lc3 text-xs leading-relaxed text-white/60">${s.subtitle}</div>
        `;
        btn.onclick = ()=>{ idx = n; overviewOn=false; update(); };
        elOvGrid.appendChild(btn);
      });
    }

    function animateSwap(nextHtml){
      elSlide.classList.remove("fade-enter", "fade-enter-active", "fade-exit", "fade-exit-active");
      elSlide.classList.add("fade-exit");
      requestAnimationFrame(()=>{
        elSlide.classList.add("fade-exit-active");
        setTimeout(()=>{
          elSlide.innerHTML = nextHtml;
          elSlide.classList.remove("fade-exit", "fade-exit-active");
          elSlide.classList.add("fade-enter");
          requestAnimationFrame(()=>{
            elSlide.classList.add("fade-enter-active");
            setTimeout(()=> elSlide.classList.remove("fade-enter", "fade-enter-active"), 450);
          });
        }, 330);
      });
    }

    function renderSlide(){
      const s = slides[idx];
      const y = s.year;

      setBgByYear(y);
      setTimeline(y);

      elYearPill.textContent = `Year: ${y}`;

      if (notesOn && s.notes){
        elNotesText.textContent = s.notes;
        elNotesBlock.classList.remove("hidden");
      } else {
        elNotesBlock.classList.add("hidden");
      }

      if (overviewOn){
        elOverview.classList.remove("hidden");
        renderOverview();
      } else {
        elOverview.classList.add("hidden");
      }

      let html = "";
      if (s.type === "chapter"){
        html = `
          <div class="relative overflow-hidden rounded-[30px] border border-white/10 bg-gradient-to-br from-white/10 to-white/5 p-10 shadow-[0_35px_120px_rgba(0,0,0,0.55)] backdrop-blur-2xl">
            <div class="absolute inset-0 opacity-70">
              <div class="absolute -left-24 top-0 h-72 w-72 rounded-full bg-yellow-300/10 blur-3xl"></div>
              <div class="absolute -right-24 bottom-0 h-72 w-72 rounded-full bg-cyan-300/10 blur-3xl"></div>
            </div>
            <div class="relative">
              <span class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">‚ú® ${s.kicker}</span>
              <h1 class="mt-4 text-balance text-3xl font-extrabold tracking-tight sm:text-4xl lg:text-5xl">${s.title}</h1>
              <p class="mt-3 max-w-3xl text-pretty text-[15px] leading-7 text-white/70 sm:text-[16px]">${s.subtitle}</p>
            </div>
          </div>
        `;
      } else {
        const bullets = (s.bullets||[]).map(b=>`
          <li class="flex gap-3">
            <span class="mt-[7px] h-2 w-2 shrink-0 rounded-full bg-yellow-300 shadow-[0_0_20px_rgba(253,224,71,0.30)]"></span>
            <span class="text-[15px] leading-7 text-white/85 sm:text-[16px]">${b}</span>
          </li>
        `).join("");

        const side = (s.side||[]).map(c=>`
          <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
            <div class="mb-2 text-sm font-semibold text-white/90">‚ú® ${c.h}</div>
            <div class="text-sm leading-relaxed text-white/70">${c.t}</div>
          </div>
        `).join("");

        html = `
          <div class="relative overflow-hidden rounded-[30px] border border-white/10 bg-white/[0.06] shadow-[0_35px_120px_rgba(0,0,0,0.58)] backdrop-blur-2xl">
            <div class="absolute inset-0 bg-gradient-to-b from-white/12 to-transparent opacity-90"></div>
            <div class="relative p-7 sm:p-10">
              <div class="mb-4 flex flex-wrap items-center justify-between gap-3">
                <span class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">${s.kicker}</span>
                <span class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">‚å® ‚Üê ‚Üí Space</span>
              </div>

              <h1 class="text-balance text-3xl font-extrabold tracking-tight sm:text-4xl lg:text-5xl">${s.title}</h1>
              <p class="mt-3 max-w-3xl text-pretty text-[15px] leading-7 text-white/70 sm:text-[16px]">${s.subtitle}</p>

              <div class="mt-8 grid grid-cols-1 gap-6 lg:grid-cols-[1.2fr_0.8fr]">
                <div><ul class="space-y-3">${bullets}</ul></div>
                <div class="space-y-4">${side}</div>
              </div>
            </div>
            <div class="absolute inset-x-0 bottom-0 h-24 bg-gradient-to-t from-black/40 to-transparent"></div>
          </div>
        `;
      }

      animateSwap(html);
    }

    function update(){ counts(); renderSlide(); }

    /* --------------------- actions --------------------- */
    function next(){ idx = clamp(idx+1, 0, slides.length-1); update(); }
    function prev(){ idx = clamp(idx-1, 0, slides.length-1); update(); }

    function toggleNotes(){ notesOn = !notesOn; update(); }
    function toggleOverview(){ overviewOn = !overviewOn; update(); }

    function toggleRecord(){
      recordMode = !recordMode;
      document.body.classList.toggle("record", recordMode);
      elRecordPill.classList.toggle("hidden", !recordMode);
    }

    async function toggleFs(){
      try{
        if(!document.fullscreenElement) await document.documentElement.requestFullscreen();
        else await document.exitFullscreen();
      }catch{}
    }

    /* --------------------- keyboard --------------------- */
    window.addEventListener("keydown", (e)=>{
      const k = e.key.toLowerCase();
      // Study Zone shortcuts
      if (studyOn){
        if (k === "escape") { closeStudy(); return; }
        if (k === "c") { setTab("flash"); return; }
        if (k === "q") { setTab("quiz"); return; }
        // allow arrow keys for flashcards
        if (activeStudyTab === "flash"){
          if (k === "arrowright") { fcNext(); return; }
          if (k === "arrowleft") { fcPrev(); return; }
          if (k === " ") { fcFlip(); return; }
        }
      } else {
        if (k === "c") { openStudy("flash"); return; }
        if (k === "q") { openStudy("quiz"); return; }
      }


      if (overviewOn){
        if (k === "escape" || k === "g") { overviewOn=false; update(); }
        return;
      }

      if (k === "arrowright" || e.key === " " || k === "pagedown") next();
      if (k === "arrowleft" || k === "pageup") prev();
      if (k === "n") toggleNotes();
      if (k === "g") toggleOverview();
      if (k === "r") toggleRecord();
      if (k === "f") toggleFs();
      if (k === "v") speakCurrent();
      if (k === "a") playSlideAudio();
    });

    /* init */
    update();
  </script>
  <!-- üéß Extra Audio List -->
<section class="relative z-20 mx-auto max-w-6xl px-4 sm:px-6 mt-16 mb-28">
  <div class="rounded-3xl border border-white/15 bg-white/5 p-6 backdrop-blur-xl shadow-[0_30px_100px_rgba(0,0,0,0.45)]">

    <div class="flex items-center gap-3 mb-5">
      <span class="text-2xl">üéß</span>
      <h2 class="text-lg font-bold text-white">
        ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (Optional Audio)
      </h2>
    </div>

    <p class="text-sm text-white/70 mb-6">
      ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏õ‡∏¥‡∏î‡∏ü‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏™‡πÑ‡∏•‡∏î‡πå ‡∏´‡∏£‡∏∑‡∏≠‡∏ü‡∏±‡∏á‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
    </p>

    <!-- Audio Item -->
    <div class="space-y-4">

      <div class="rounded-2xl border border-white/10 bg-black/30 p-4">
        <div class="mb-2 flex items-center justify-between">
          <div>
            <div class="text-sm font-semibold text-white">
              üîä ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏™‡πÑ‡∏•‡∏î‡πå
            </div>
            <div class="text-xs text-white/60">
              Voice-over ‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏¥‡∏î‡∏ó‡πâ‡∏≤‡∏¢ / ‡∏ü‡∏±‡∏á‡∏£‡∏ß‡∏ö‡∏¢‡∏≠‡∏î
            </div>
          </div>
        </div>

        <audio controls preload="none" class="w-full">
          <source src="./luvvoice.com-20260112-7woVTD.mp3" type="audio/mpeg">
          ‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á
        </audio>
      </div>

      <!-- üîÅ ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏û‡∏¥‡πà‡∏° ‡πÉ‡∏´‡πâ copy block ‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡∏ï‡πà‡∏≠ -->
      <!--
      <div class="rounded-2xl border border-white/10 bg-black/30 p-4">
        <div class="mb-2">
          <div class="text-sm font-semibold text-white">üîä ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á</div>
          <div class="text-xs text-white/60">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏™‡∏µ‡∏¢‡∏á</div>
        </div>
        <audio controls preload="none" class="w-full">
          <source src="./audio/your-audio.mp3" type="audio/mpeg">
        </audio>
      </div>
      -->

    </div>
  </div>
</section>

</body>
</html>
